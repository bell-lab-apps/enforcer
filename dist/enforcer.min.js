/*! enforcer v1.2.1 | (c) 2021 Warren Galyen | MIT License | http://github.com/bell-lab-apps/enforcer */
!(function(e,t){"function"==typeof define&&define.amd?define([],(function(){return t(e)})):"object"==typeof exports?module.exports=t(e):e.Enforcer=t(e)})("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,(function(n){"use strict";function u(e,t){Array.prototype.forEach.call(e,t)}function s(e,t,r){"function"==typeof n.CustomEvent&&(r=new CustomEvent(t,{bubbles:!0,detail:r||{}}),e.dispatchEvent(r))}function f(e,t){return{missingValue:(function(e){if(!e.hasAttributes("required"))return!1;if("checkbox"===e.type)return!e.checked;var t=e.value.length;return(t="radio"===e.type?Array.prototype.filter.call(e.form.querySelectorAll('[name="'+g(e.name)+'"]'),(function(e){return e.checked})).length:t)<1})(e),patternMismatch:(n=t,!(!(t=(t=(r=e).getAttribute("pattern"))?new RegExp(t):n.patterns[r.type])||!r.value||r.value.length<1)&&!r.value.match(t)),outOfRange:(function(e){if(!e.value||e.value.length<1)return!1;var t=e.getAttribute("max"),r=e.getAttribute("min"),e=parseFloat(e.value);return t&&t<e?"over":!!(r&&e<r)&&"under"})(e),wrongLength:(function(e){if(!e.value||e.value.length<1)return!1;var t=e.getAttribute("maxlength"),r=e.getAttribute("minlength"),e=e.value.length;return t&&t<e?"over":!!(r&&e<r)&&"under"})(e)};var r,n}function l(e,t,r){var n=e.name?g(e.name):e.id;return!n&&r&&(n=t.fieldPrefix+Math.floor(999*Math.random()),e.is=n),n}function c(e,t,r){var n,a,i=e.form.querySelector("#"+r.errorPrefix+l(e,r))||(i=e,n=r,(o=document.createElement("div")).className=n.errorClass,o.id=n.errorPrefix+l(i,n,!0),(i="checkbox"===(i="radio"===i.type?(a=i.form.querySelectorAll('[name="'+g(i.name)+'"]'))[a.length-1]:i).type||"radio"===i.type?i.closest("label")||i:i).parentNode.insertBefore(o,n.messageAfterField?i.nextSibling:i),o),o=(function(e,t,r){var n,a=r.messages;if(t.missingValue)return a.missingValue[e.type]||a.missingValue.default;if(t.outOfRange)return a.outOfRange[t.outOfRange].replace("{max}",e.getAttribute("max")).replace("{min}",e.getAttribute("min")).replace("{length}",e.value.length);if(t.wrongLength)return a.wrongLength[t.wrongLength].replace("{maxLength}",e.getAttribute("maxlength")).replace("{minLength}",e.getAttribute("minlength")).replace("{length}",e.value.length);if(t.patternMismatch){var i=e.getAttribute(r.messageCustom);return i?i:a.patternMismatch[e.type]||a.patternMismatch.default}for(n in r.customValidations)if(r.customValidations.hasOwnProperty(n)&&t[n]&&a[n])return a[n];return a.fallback})(e,t,r);i.textContent="function"==typeof o?o(e,r):o,e.classList.add(r.fieldClass),e.setAttribute("aria-describedby",i.id),r.emitEvents&&s(e,"enforcerShowError",{errors:t})}function d(e,t){var r=e.form.querySelector("#"+t.errorPrefix+l(e,t));r&&(r.parentNode.removeChild(r),e.classList.remove(t.fieldClass),e.removeAttribute("aria-describedby"),t.emitEvents&&s(e,"enforcerRemoveError"))}var x={fieldClass:"error",errorClass:"error-message",fieldPrefix:"enforcer-field_",errorPrefix:"enforcer-error_",patterns:{email:/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*(\.\w{2,})+$/,url:/^(?:(?:https?|HTTPS?|ftp|FTP):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)(?:\.(?:[a-zA-Z\u00a1-\uffff0-9]-*)*[a-zA-Z\u00a1-\uffff0-9]+)*(?:\.(?:[a-zA-Z\u00a1-\uffff]{2,}))\.?)(?::\d{2,5})?(?:[/?#]\S*)?$/,number:/^(?:[-+]?[0-9]*[.,]?[0-9]+)$/,color:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,date:/(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-9])|(?:(?!02)(?:0[1-9]|1[0-2])-(?:30))|(?:(?:0[13578]|1[02])-31))/,time:/^(?:(0[0-9]|1[0-9]|2[0-3])(:[0-5][0-9]))$/,month:/^(?:(?:19|20)[0-9]{2}-(?:(?:0[1-9]|1[0-2])))$/},customValidations:{},messageAfterField:!0,messageCustom:"data-enforcer-message",messages:{missingValue:{checkbox:"This field is required.",radio:"Please select a value.",select:"Please select a value.","select-multiple":"Please select at least one value.",default:"Please fill out this field."},patternMismatch:{email:"Please enter a valid email address.",url:"Please enter a URL.",number:"Please enter a number",color:"Please match the following format: #rrggbb",date:"Please use the YYYY-MM-DD format",time:"Please use the 24-hour time format. Ex. 23:00",month:"Please use the YYYY-MM format",default:"Please match the requested format."},outOfRange:{over:"Please select a value that is no more than {max}.",under:"Please select a value that is no less than {min}."},wrongLength:{over:"Please shorten this text to no more than {maxLength} characters. You are currently using {length} characters.",under:"Please lengthen this text to {minLength} characters or more. You are currently using {length} characters."},fallback:"There was an error with this field."},disableSubmit:!1,emitEvents:!0},m=function(){var r={};return u(arguments,(function(e){for(var t in e){if(!e.hasOwnProperty(t))return;"[object Object]"===Object.prototype.toString.call(e[t])?r[t]=m(r[t],e[t]):r[t]=e[t]}})),r},g=function(e){for(var t,r=String(e),n=r.length,a=-1,i="",o=r.charCodeAt(0);++a<n;){if(0===(t=r.charCodeAt(a)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");1<=t&&t<=31||127==t||0===a&&48<=t&&t<=57||1===a&&48<=t&&t<=57&&45===o?i+="\\"+t.toString(16)+" ":i+=128<=t||45===t||95===t||48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122?r.charAt(a):"\\"+r.charAt(a)}return i};return function(r,e){var i,n={};n.validate=function(e,t){if(!e.disabled&&!e.readOnly&&"file"!==e.type&&"reset"!==e.type&&"submit"!==e.type&&"button"!==e.type){var r,n,a=m(i,t||{}),t=(t=f(r=e,n=a),{valid:!(function(e){for(var t in e)if(e[t])return!0;return!1})(t=(function(e,t,r,n){for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a](e,n));return t})(r,t,n.customValidations,n)),errors:t});if(!t.valid)return c(e,t.errors,a),t;d(e,a)}};function a(e){e.target.form&&e.target.form.matches(r)&&n.validate(e.target)}function o(e){var t;e.target.form&&e.target.form.matches(r)&&(t=e.target,(t="radio"===e.target.type?e.target.form.querySelector('[name="'+g(e.target.name)+'"]'):t).classList.contains(i.fieldClass)&&n.validate(e.target))}function l(e){if(e.target.matches(r)){e.preventDefault();var t=Array.prototype.filter.call(e.target.elements,(function(e){e=n.validate(e);return e&&!e.valid}));if(0<t.length)return t[0].focus(),void s(e.target,"enforcerFormInvalid",{errors:t});i.disableSubmit||e.target.submit(),i.emitEvents&&s(e.target,"enforcerFormValid")}}n.destroy=function(){var t,e;document.removeEventListener("blur",a,!0),document.removeEventListener("input",o,!1),document.removeEventListener("click",o,!1),document.removeEventListener("submit",l,!1),e=r,t=i,u(document.querySelectorAll(e),(function(e){u(e.querySelectorAll("input, select, textarea"),(function(e){d(e,t)}))})),e=r,u(document.querySelectorAll(g(e)),(function(e){e.removeAttribute("novalidate")})),i.emitEvents&&s(document,"enforcerDestroyed",{settings:i}),i=null};var t;return i=m(x,e||{}),t=r,u(document.querySelectorAll(g(t)),(function(e){e.setAttribute("novalidate",!0)})),document.addEventListener("blur",a,!0),document.addEventListener("input",o,!1),document.addEventListener("click",o,!1),document.addEventListener("submit",l,!1),i.emitEvents&&s(document,"enforcerInitialized",{settings:i}),n}}));